# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-jersey-client

# travis encrypt -r bootique/bootique-jersey-client "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-jersey-client "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "IyytBm3sWfzybrqY8iFiCgTuFheOsQJd0duM6cngkz9i0Oyu++ARqa0O5J3QD8KXcLqLpMcgFQqMi0VkgS5M2rzLJkfuBsXZsEfwlMt8OUA11jOfj1KYzBIt5HlXfIJEuOZ6HLq63ebUSYMfDCJDDCSKv8IbjVU75EWgKaVX0OhOixuY5rIIe5HoiJmscxqgJ3pMo4xeW7vnirRznAMYf8V9ow2oIFL6UefTeZJ5P9HmVHr7D6NTXEkF33Cct8eoGvRwpb6fl5R4zKEtk3nfbmLx2RMKzgpA8fS7Pci1PeP6kCQVzSoPhRgP7r7sLMC+i8k26rWA9jMGxeZDm9vcKIM/fZBS5gAOw7lUbuftZSwLoyfHUxmw1kshmOhvAmRaKWmJcOf+HcNe5GnHeoIwfBxsY0Re/Ylk98BQHiXvcQS80rAiYWlPqpPZQIRVH/AI2VHjxKnFXt6i3FcHv4+RgXkOMMuOrOCqVKKm8bt8yo3v5UeUMjM+hj2no9Flk20isuvTN08cOJuxEsVFI76TtgPDb2JVqGSNAyFmpuqVpmdG9vJuoLLpPLEqhdY2+VG4lnrdpa9xOJHo52J2Tb8Q6UDxyfxviU5Swe1jatUG3HhcFRuUfo+bCJJVQ0zcc7q0XVQNAL3m91dSAXz44qeAYL5TscHnKVKBRz7laMSBz/U="
    - secure: "RjqnqnT6z7/zH9M1UWqbqKEV5mc4SHSWHxFNSTl8tZprgkecB8vu4KQrv7htKi7tpo0wnXTmLNC8rCdnqDNr0HXv9RIiAJfog6aj3QZXO0xSb40y8TrfFIDL8xCkqxZ8MExaSeab7IIImy1pWfkPOBK/v3bQXuWrtFcnwiYT84czL98/VpzQ3nkfwt3yfxXxt7m+PXx8ioDhpVYBvC4dTBLZM/MmHQwrmAn/5V/9p9BmNC0rnQz5LZIzYX130bud24D33y4IPUj5t2bhS5W/NcwfwjWs2GzwV+vjIrmWEE30FGdMmGwnAN7It5X2TPSWyDRJeQ50Lg9ISAMtPWV7p0Bg/aA9pA9yS7XQiD1jPXj1gHuJmbmdsvG9WOL49L3cXUXy8DL0EThIxIyBfiPTf6A06T71Zh696jCajxh2AO3Q1dvjR+1lTWfC6N8dh3yTqTZn2DyJmQTbAk1sIRbCNaWpNhRWpT6KImDgsZvRUyoCrfk2Ig0Y48bRvQi903aZ/0V1ZWkgF0z2kTI0UYF5WLXH03sGZffakhXqr2ujZnzhqpb/730ymffqY/T+EkwYJTxP5fFO892IE6STujtr1cuaqEhs9mK5Z9Z1vHa0ahHb4uf56HnSfPsDccxozJEPLcVx/L6SakQIc0vXLXYdiBMFoEygxOxpySs1yC4TXZw="
